
<!DOCTYPE html>
<!-- saved from url=(0068)file:///Users/thecave/Voyage%20Slider%20_%20GSAP2_files/abdqKzm.html -->
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link type="text/css" rel="stylesheet" id="dark-mode-general-link"><link type="text/css" rel="stylesheet" id="dark-mode-custom-link"><style type="text/css" id="dark-mode-custom-style"></style>
  <link rel="apple-touch-icon" type="image/png" href="https://static.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">
  <meta name="apple-mobile-web-app-title" content="CodePen">
  <link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">
  <link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111">
  <link rel="stylesheet" href="./Template2.css">
  <title>CodePen - Voyage Slider | GSAP</title>
<script>
  window.console = window.console || function(t) {};
</script>
<script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>
</head>
<body translate="no" class="vsc-initialized">
<div class="app">
<div class="cardList">
<button class="cardList__btn btn btn--left" style="opacity: 1; pointer-events: all;">
<div class="icon">
<svg>
<use xlink:href="#arrow-left"></use>
</svg>
</div>
</button>
<div class="cards__wrapper">
<div class="card current--card" style="--card-translateY-offset:0%; --current-card-rotation-offset:0;">
<div class="card__image">
<img src="./Z8dtTatMVMw" alt="">
</div>
</div>
<div class="card next--card" style="--card-translateY-offset:0%;">
<div class="card__image">
<img src="./9dmycbFE7mQ" alt="">
</div>
</div>
<div class="card previous--card" style="--card-translateY-offset:0%;">
<div class="card__image">
<img src="./m7K4KzL5aQ8" alt="">
</div>
</div>
</div>
<button class="cardList__btn btn btn--right" style="opacity: 1; pointer-events: all;">
<div class="icon">
<svg>
<use xlink:href="#arrow-right"></use>
</svg>
</div>
</button>
</div>
<div class="infoList">
<div class="info__wrapper">
<div class="info current--info" style="transform: translate3d(0px, 0px, 32px);">
<h1 class="text name" style="opacity: 1; transform: translate(0px, 0px);">DELIBERATE</h1>
<h4 class="text location" style="opacity: 1; transform: translate(0px, 0px);">THINK</h4>
<p class="text description" style="opacity: 1; transform: translate(0px, 0px);">Learn Data Structures and <b>ALGO</b>rithms. <br> The mountains are calling</p>
</div>
<div class="info next--info">
<h1 class="text name">App Dev</h1>
<h4 class="text location">Web, Mobile</h4>
<p class="text description">Analyze Data. <br> Digital Marketing. SEO. <br> Django. SQL<br>ReactJS<br>$41,000 <br> Adventure is never far away</p>
</div>
<div class="info previous--info">
<h1 class="text name">AI</h1>
<h4 class="text location">Machine Learning</h4>
<p class="text description">Linear Algebra<br>Calculus<br>Statistics Probability<br>Applied ML<br>Deep ML<br>Let your dreams come true</p>
</div>
</div>
</div>
<div class="app__bg">
<div class="app__bg__image current--image">
<img src="./Z8dtTatMVMw" alt="">
</div>
<div class="app__bg__image next--image">
<img src="./9dmycbFE7mQ" alt="">
</div>
<div class="app__bg__image previous--image">
<img src="./m7K4KzL5aQ8" alt="">
</div>
</div>
</div>
<div class="loading__wrapper" style="pointer-events: none; opacity: 0;">
<div class="loader--text">Loading...</div>
<div class="loader">
<span style="background-color: rgb(0, 255, 0); transform: translate(0px, 0px);"></span>
</div>
</div>
<svg class="icons" style="display: none;">
<symbol id="arrow-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<polyline points="328 112 184 256 328 400" style="fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px"></polyline>
</symbol>
<symbol id="arrow-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<polyline points="184 112 328 256 184 400" style="fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px"></polyline>
</symbol>
</svg>

<script src="./stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
<script src="./imagesloaded.pkgd.min.js"></script>
<script src="./gsap.min.js"></script>
<script id="rendered-js">
console.clear();

const { gsap, imagesLoaded } = window;

const buttons = {
  prev: document.querySelector(".btn--left"),
  next: document.querySelector(".btn--right") };

const cardsContainerEl = document.querySelector(".cards__wrapper");
const appBgContainerEl = document.querySelector(".app__bg");

const cardInfosContainerEl = document.querySelector(".info__wrapper");

buttons.next.addEventListener("click", () => swapCards("right"));

buttons.prev.addEventListener("click", () => swapCards("left"));

function swapCards(direction) {
  const currentCardEl = cardsContainerEl.querySelector(".current--card");
  const previousCardEl = cardsContainerEl.querySelector(".previous--card");
  const nextCardEl = cardsContainerEl.querySelector(".next--card");

  const currentBgImageEl = appBgContainerEl.querySelector(".current--image");
  const previousBgImageEl = appBgContainerEl.querySelector(".previous--image");
  const nextBgImageEl = appBgContainerEl.querySelector(".next--image");

  changeInfo(direction);
  swapCardsClass();

  removeCardEvents(currentCardEl);

  function swapCardsClass() {
    currentCardEl.classList.remove("current--card");
    previousCardEl.classList.remove("previous--card");
    nextCardEl.classList.remove("next--card");

    currentBgImageEl.classList.remove("current--image");
    previousBgImageEl.classList.remove("previous--image");
    nextBgImageEl.classList.remove("next--image");

    currentCardEl.style.zIndex = "50";
    currentBgImageEl.style.zIndex = "-2";

    if (direction === "right") {
      previousCardEl.style.zIndex = "20";
      nextCardEl.style.zIndex = "30";

      nextBgImageEl.style.zIndex = "-1";

      currentCardEl.classList.add("previous--card");
      previousCardEl.classList.add("next--card");
      nextCardEl.classList.add("current--card");

      currentBgImageEl.classList.add("previous--image");
      previousBgImageEl.classList.add("next--image");
      nextBgImageEl.classList.add("current--image");
    } else if (direction === "left") {
      previousCardEl.style.zIndex = "30";
      nextCardEl.style.zIndex = "20";

      previousBgImageEl.style.zIndex = "-1";

      currentCardEl.classList.add("next--card");
      previousCardEl.classList.add("current--card");
      nextCardEl.classList.add("previous--card");

      currentBgImageEl.classList.add("next--image");
      previousBgImageEl.classList.add("current--image");
      nextBgImageEl.classList.add("previous--image");
    }
  }
}

function changeInfo(direction) {
  let currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
  let previousInfoEl = cardInfosContainerEl.querySelector(".previous--info");
  let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

  gsap.timeline().
  to([buttons.prev, buttons.next], {
    duration: 0.2,
    opacity: 0.5,
    pointerEvents: "none" }).

  to(
  currentInfoEl.querySelectorAll(".text"),
  {
    duration: 0.4,
    stagger: 0.1,
    translateY: "-120px",
    opacity: 0 },

  "-=").

  call(() => {
    swapInfosClass(direction);
  }).
  call(() => initCardEvents()).
  fromTo(
  direction === "right" ?
  nextInfoEl.querySelectorAll(".text") :
  previousInfoEl.querySelectorAll(".text"),
  {
    opacity: 0,
    translateY: "40px" },

  {
    duration: 0.4,
    stagger: 0.1,
    translateY: "0px",
    opacity: 1 }).


  to([buttons.prev, buttons.next], {
    duration: 0.2,
    opacity: 1,
    pointerEvents: "all" });


  function swapInfosClass() {
    currentInfoEl.classList.remove("current--info");
    previousInfoEl.classList.remove("previous--info");
    nextInfoEl.classList.remove("next--info");

    if (direction === "right") {
      currentInfoEl.classList.add("previous--info");
      nextInfoEl.classList.add("current--info");
      previousInfoEl.classList.add("next--info");
    } else if (direction === "left") {
      currentInfoEl.classList.add("next--info");
      nextInfoEl.classList.add("previous--info");
      previousInfoEl.classList.add("current--info");
    }
  }
}

function updateCard(e) {
  const card = e.currentTarget;
  const box = card.getBoundingClientRect();
  const centerPosition = {
    x: box.left + box.width / 2,
    y: box.top + box.height / 2 };

  let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);
  gsap.set(card, {
    "--current-card-rotation-offset": `${angle}deg` });

  const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
  gsap.set(currentInfoEl, {
    rotateY: `${angle}deg` });

}

function resetCardTransforms(e) {
  const card = e.currentTarget;
  const currentInfoEl = cardInfosContainerEl.querySelector(".current--info");
  gsap.set(card, {
    "--current-card-rotation-offset": 0 });

  gsap.set(currentInfoEl, {
    rotateY: 0 });

}

function initCardEvents() {
  const currentCardEl = cardsContainerEl.querySelector(".current--card");
  currentCardEl.addEventListener("pointermove", updateCard);
  currentCardEl.addEventListener("pointerout", e => {
    resetCardTransforms(e);
  });
}

initCardEvents();

function removeCardEvents(card) {
  card.removeEventListener("pointermove", updateCard);
}

function init() {

  let tl = gsap.timeline();

  tl.to(cardsContainerEl.children, {
    delay: 0.15,
    duration: 0.5,
    stagger: {
      ease: "power4.inOut",
      from: "right",
      amount: 0.1 },

    "--card-translateY-offset": "0%" }).

  to(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
    delay: 0.5,
    duration: 0.4,
    stagger: 0.1,
    opacity: 1,
    translateY: 0 }).

  to(
  [buttons.prev, buttons.next],
  {
    duration: 0.4,
    opacity: 1,
    pointerEvents: "all" },

  "-=0.4");

}

const waitForImages = () => {
  const images = [...document.querySelectorAll("img")];
  const totalImages = images.length;
  let loadedImages = 0;
  const loaderEl = document.querySelector(".loader span");

  gsap.set(cardsContainerEl.children, {
    "--card-translateY-offset": "100vh" });

  gsap.set(cardInfosContainerEl.querySelector(".current--info").querySelectorAll(".text"), {
    translateY: "40px",
    opacity: 0 });

  gsap.set([buttons.prev, buttons.next], {
    pointerEvents: "none",
    opacity: "0" });


  images.forEach(image => {
    imagesLoaded(image, instance => {
      if (instance.isComplete) {
        loadedImages++;
        let loadProgress = loadedImages / totalImages;

        gsap.to(loaderEl, {
          duration: 1,
          scaleX: loadProgress,
          backgroundColor: `hsl(${loadProgress * 120}, 100%, 50%` });


        if (totalImages == loadedImages) {
          gsap.timeline().
          to(".loading__wrapper", {
            duration: 0.8,
            opacity: 0,
            pointerEvents: "none" }).

          call(() => init());
        }
      }
    });
  });
};

waitForImages();
//# sourceURL=pen.js
    </script>


</body></html>